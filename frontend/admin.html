<!DOCTYPE html>
<html>

<head>
    <meta charset="utf-8">
    <title></title>
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.0.0-beta3/dist/css/bootstrap.min.css" rel="stylesheet"
        integrity="sha384-eOJMYsd53ii+scO/bJGFsiCZc+5NDVN2yr8+0RDqr0Ql0h+rP48ckxlpbzKgwra6" crossorigin="anonymous">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.15.3/css/all.min.css"
        integrity="sha512-iBBXm8fW90+nuLcSKlbmrPcLa0OT92xO1BIsZ+ywDWZCvqsWgccV3gFoRBv0z+8dLJgyAHIhR35VZc2oM/gI1w=="
        crossorigin="anonymous" />
</head>

<body onload="getRequestCount()">
    <div class="container-fluid">
        <div class="row mb-5">
            <h1 class="text-center mt-2">Admin Panel</h1>
        </div>
        <div class="jumbotron">
            <div class="row w-100">
                <div class="col-md-3">
                    <div class="card border-info mx-sm-1 p-3">
                        <div class="card border-info shadow text-info p-3 block m-auto rounded-circle"><span
                                class="fa fa-car" aria-hidden="true"></span></div>
                        <div class="text-info text-center mt-3">
                            <h4>GET</h4>
                        </div>
                        <div class="text-info text-center mt-2">
                            <h1 id="gets"></h1>
                        </div>
                    </div>
                </div>
                <div class="col-md-3">
                    <div class="card border-success mx-sm-1 p-3">
                        <div class="card border-success shadow text-success p-3 block m-auto rounded-circle"><span
                                class="fa fa-eye" aria-hidden="true"></span></div>
                        <div class="text-success text-center mt-3">
                            <h4>POST</h4>
                        </div>
                        <div class="text-success text-center mt-2">
                            <h1 id="posts"></h1>
                        </div>
                    </div>
                </div>
                <div class="col-md-3">
                    <div class="card border-danger mx-sm-1 p-3">
                        <div class="card border-danger shadow text-danger p-3 block m-auto rounded-circle"><span
                                class="fa fa-heart" aria-hidden="true"></span></div>
                        <div class="text-danger text-center mt-3">
                            <h4>PUT</h4>
                        </div>
                        <div class="text-danger text-center mt-2">
                            <h1 id="puts"></h1>
                        </div>
                    </div>
                </div>
                <div class="col-md-3">
                    <div class="card border-warning mx-sm-1 p-3">
                        <div class="card border-warning shadow text-warning p-3 block m-auto rounded-circle"><span
                                class="fa fa-inbox" aria-hidden="true"></span></div>
                        <div class="text-warning text-center mt-3">
                            <h4>DELETE</h4>
                        </div>
                        <div class="text-warning text-center mt-2">
                            <h1 id="deletes"></h1>
                        </div>
                    </div>
                </div>
            </div>
        </div>
        <div class="container-fluid">
            <div>
                <a href="https://www.richardisa.com/" class="btn btn-primary mt-3" role="button"
                    aria-disabled="true">Home</a>
            </div>
        </div>
    </div>
    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.0.0-beta3/dist/js/bootstrap.bundle.min.js"
        integrity="sha384-JEW9xMcG8R+pH31jmWH6WWP0WintQrMb4s7ZOdauHnUtxwoG2vI5DkLtS3qm9Ekf"
        crossorigin="anonymous"></script>
    <script type="text/javascript">
        let gets = document.getElementById("gets")
        let posts = document.getElementById("posts")
        let puts = document.getElementById("puts")
        let deletes = document.getElementById("deletes")
        function getRequestCount() {
            const xttp = new XMLHttpRequest();
            xttp.open("POST", "https://pillar.timbwu.com/api/v1/admin?apikey=SuperSecretKey", true)
            // xttp.open("POST", "http://localhost:3000/api/v1/admin?apikey=SuperSecretKey", true)
            xttp.responseType = "json";
            xttp.onload = function () {
                if (xttp.readyState === xttp.DONE && xttp.status === 200) {
                    let result = xttp.response
                    gets.innerText = result[0].gets
                    posts.innerText = result[0].posts
                    puts.innerText = result[0].puts
                    deletes.innerText = result[0].deletes
                } else {
                    alert(xttp.response)
                }
            }
            xttp.send()
        }
    </script>
</body>

</html>